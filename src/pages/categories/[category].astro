---
import Base from "../../layouts/base.astro";
import Row from "../../components/Row.astro";

export function getStaticPaths() {
    const imgLink =
        "https://raw.githubusercontent.com/kalenwallin/portfolio.v1/gpages/img/";
    const pageLink = "https://v3.kalenwallin.com/";
    const pages = [
        {
            category: "Websites",
            rows: [
                [
                    {
                        imgUrl: `${imgLink}portfoliov3.png`,
                        alt: "Portfolio version 3 Logo",
                        title: "Portfolio.v3",
                        description: "Next.js Developer",
                        id: "1",
                        pageUrl: `${pageLink}portfoliov3-development`,
                    },
                    {
                        imgUrl: `${imgLink}portfoliov2.png`,
                        alt: "Portfolio version 2 Logo",
                        title: "Portfolio.v2",
                        description: "Django Developer",
                        id: "2",
                        pageUrl: `${pageLink}portfoliov2`,
                    },
                    {
                        imgUrl: `${imgLink}portfoliov12.png`,
                        alt: "Portfolio version 1 Logo",
                        title: "Portfolio.v1",
                        description: "Blazor Developer",
                        id: "3",
                        pageUrl: `${pageLink}portfoliov1`,
                    },
                ],

                [
                    {
                        imgUrl: `${imgLink}voting_system.png`,
                        alt: "Voting System Logo",
                        title: "Voting System",
                        description: ".NET Developer",
                        id: "4",
                        pageUrl: `${pageLink}voting-system`,
                    },
                ],
            ],
        },
        { category: "Video Games", rows: [] },
        { category: "Mobile Apps", rows: [] },
        { category: "Work", rows: [] },
        { category: "Documents", rows: [] },
        {
            category: "Community Service",
            rows: [],
        },
    ];
    return pages.map((page) => {
        let rows = page.rows;

        return {
            params: {
                category: page.category,
            },
            props: { rows },
        };
    });
}

const { category } = Astro.params;
const { rows } = Astro.props;
---

<Base title={category}>
    <div class="modal-header slide-in-from-bottom">
        <h1>{category}</h1>
    </div>
    {rows.map((row) => <Row row={row} />)}
</Base>
