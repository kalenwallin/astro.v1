---
import Base from "../layouts/base.astro";
import Card from "../components/Card.astro";

export function getStaticPaths() {
    const imgLink =
        "https://raw.githubusercontent.com/kalenwallin/portfolio.v1/gpages/img/";
    const pageLink = "https://v3.kalenwallin.com/";
    const pages = [
        {
            category: "Websites",
            cards: [
                {
                    imgUrl: `${imgLink}portfoliov3.png`,
                    alt: "Portfolio version 3 Logo",
                    title: "Portfolio.v3",
                    description: "Next.js Web Developer",
                    id: "1",
                    pageUrl: `${pageLink}portfoliov3-development`,
                },
                {
                    imgUrl: `${imgLink}portfoliov2.png`,
                    alt: "Portfolio version 2 Logo",
                    title: "Portfolio.v2",
                    description: "Django Web Developer",
                    id: "2",
                    pageUrl: `${pageLink}portfoliov2`,
                },
                {
                    imgUrl: `${imgLink}portfoliov12.png`,
                    alt: "Portfolio version 1 Logo",
                    title: "Portfolio.v1",
                    description: "Blazor Web Developer",
                    id: "3",
                    pageUrl: `${pageLink}portfoliov1`,
                },

                {
                    imgUrl: `${imgLink}voting_system.png`,
                    alt: "Voting System Logo",
                    title: "Voting System",
                    description: "ASP.NET Developer",
                    id: "4",
                    pageUrl: `${pageLink}voting-system`,
                },
            ],
        },
        {
            category: "Video Games",
            cards: [
                {
                    imgUrl: `${imgLink}baldorf.png`,
                    alt: "baldorf graphic",
                    title: "baldorf",
                    description: "Unity Game Developer",
                    id: "1",
                    pageUrl: `${pageLink}baldorf`,
                },
                {
                    imgUrl: `${imgLink}godot_demo.png`,
                    alt: "godot demo graphic",
                    title: "Godot Demo",
                    description: "Godot Game Developer",
                    id: "2",
                    pageUrl: `${pageLink}godot-game-level-demo`,
                },
                {
                    imgUrl: `${imgLink}minieval.png`,
                    alt: "Minieval Logo",
                    title: "Minieval",
                    description: "Godot Game Developer",
                    id: "3",
                    pageUrl: `${pageLink}minieval`,
                },
                {
                    imgUrl: `${imgLink}fappy_borbs.png`,
                    alt: "Fappy Borbs Graphic",
                    title: "Fappy Borbs",
                    description: "Unity Game Developer",
                    id: "4",
                    pageUrl: `${pageLink}fappy-borbs`,
                },
            ],
        },
        {
            category: "Mobile Apps",
            cards: [
                {
                    imgUrl: `${imgLink}lifting_calculator.png`,
                    alt: "Weight Lifting Calculator Screenshot",
                    title: "Weight Lifting Calculator",
                    description: "Xamarin Mobile Developer",
                    id: "1",
                    pageUrl: `${pageLink}weight-lifting-calculator`,
                },
            ],
        },
        {
            category: "Work",
            cards: [
                {
                    imgUrl: `${imgLink}farmafield.png`,
                    alt: "FarmAfield internship graphic",
                    title: "FarmAfield",
                    description: "Django Web Developer Intern",
                    id: "1",
                    pageUrl: `${pageLink}farmafield`,
                },
                {
                    imgUrl: `${imgLink}unl_ta.png`,
                    alt: "University of Nebraska-Lincoln Software Engineering Teaching Assistant graphic",
                    title: "University of Nebraska-Lincoln",
                    description: "Software Engineering Teaching Assistant",
                    id: "2",
                    pageUrl: `${pageLink}unl-ta`,
                },
                {
                    imgUrl: `${imgLink}wallin_farms.png`,
                    alt: "Wallin Farms Logo",
                    title: "Wallin Farms",
                    description: "Farmhand & Accountant",
                    id: "3",
                    pageUrl: `${pageLink}wallin-farms`,
                },
                {
                    imgUrl: `${imgLink}initialize.png`,
                    alt: "Initialize UNL Logo White",
                    title: "Initialize",
                    description: "Curriculum Developer",
                    id: "4",
                    pageUrl: `${pageLink}initialize`,
                },
                {
                    imgUrl: `${imgLink}imperial_pool.png`,
                    alt: "Imperial Pool Logo",
                    title: "Imperial Pool",
                    description: "Lifeguard",
                    id: "5",
                    pageUrl: `${pageLink}imperial-pool`,
                },
            ],
        },
        // { category: "Documents", cards: [] },
        // {
        //     category: "Community Service",
        //     cards: [],
        // },
    ];

    return pages.map((page) => {
        let cards = page.cards;

        return {
            params: {
                category: page.category,
            },
            props: { cards },
        };
    });
}

const { category } = Astro.params;
const { cards } = Astro.props;
---

<style>
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        /* This is better for small screens, once min() is better supported */
        /* grid-template-columns: repeat(auto-fill, minmax(min(200px, 100%), 1fr)); */
        gap: 1rem;
        padding: 1rem;
    }
    @media (max-width: 425px) {
        .grid {
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        }
    }
</style>
<Base title={category}>
    <div class="modal-header">
        <h1>{category}</h1>
    </div>
    <div class="grid">
        {cards.map((card) => <Card article={card} />)}
    </div>
</Base>
