---
interface Props {
    article?: any;
}
const { article } = Astro.props;
---

<article id="article-id" data-article={article.id}></article>
<div class="card">
    <div class="img-container">
        <img src={article.imgUrl} alt={article.alt} />
    </div>
    <div class="container">
        <h4><b>{article.title}</b></h4>
        <p>{article.description}</p>
    </div>
</div>

<div id={article.id} class="modal">
    <form class="modal-content notion animate">
        <div class="fappy_container">
            <iframe
                loading="lazy"
                src={article.pageUrl}
                style="width: 100%; height: 95%;"></iframe>
            <button class="btn-block" type="button">Done</button>
        </div>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Get the id of the article from props
        const idElement = document.getElementById("article-id");
        const id = idElement?.dataset.article!;
        const modal = document.getElementById(id);
        if (modal) {
            modal.style.display = "none";
            modal.addEventListener("click", () => {
                modal.style.display = "none";
            });
        }
    });
</script>
